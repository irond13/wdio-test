--- a/node_modules/@wdio/allure-reporter/build/index.js
+++ b/node_modules/@wdio/allure-reporter/build/index.js
@@ -535,7 +535,9 @@ var AllureReportState = class {
     if (!this._currentTestUuid) {
       return;
     }
-    const startIdx = this._pendingHookMessages.findIndex(
+    // Fix: Use findLastIndex to find innermost hook when there are nested root + suite hooks
+    // This ensures steps are attached to the correct hook that actually contains them
+    const startIdx = findLastIndex(this._pendingHookMessages,
       (m) => m.type === "allure:hook:start" && m.data.type === kind && typeof m.data.name === "string" && (scope === "each" ? /each/i.test(m.data.name) : /all/i.test(m.data.name))
     );
     if (startIdx === -1) {
