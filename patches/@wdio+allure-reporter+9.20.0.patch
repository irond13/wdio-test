diff --git a/node_modules/@wdio/allure-reporter/build/index.js b/node_modules/@wdio/allure-reporter/build/index.js
index 64546bd..acd86f0 100644
--- a/node_modules/@wdio/allure-reporter/build/index.js
+++ b/node_modules/@wdio/allure-reporter/build/index.js
@@ -533,7 +533,10 @@ var AllureReportState = class {
     if (!this._currentTestUuid) {
       return;
     }
-    const startIdx = this._pendingHookMessages.findIndex(
+    // PATCH: Use findLastIndex to find innermost hook when there are nested root + suite hooks
+    // This ensures steps are attached to the correct hook that actually contains them
+    // Original code used findIndex which found the first/outermost hook, losing nested steps
+    const startIdx = findLastIndex(this._pendingHookMessages,
       (m) => m.type === "allure:hook:start" && m.data.type === kind && typeof m.data.name === "string" && (scope === "each" ? /each/i.test(m.data.name) : /all/i.test(m.data.name))
     );
     if (startIdx === -1) {
